<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<script>
let winners = [];

function Comp(){   //works Fine
    let comp_temp = ['rock', 'paper', 'scissor']
    let CompChoose = comp_temp[Math.floor(Math.random() * comp_temp.length)]
    return CompChoose;
}

function user(){  //works Fine
   let userChoose = prompt("Enter either Rock or Paper or Scissor");
   if(userChoose === null || userChoose === undefined || userChoose === "Escape"){
 
    userChoose = prompt("Enter either Rock or Paper or Scissor");

   }
   return userChoose;
}

function playRound(round){
let playerSelect = user();
let computerSelect = Comp();
console.log(`round`, round);
console.log(`You selected`, playerSelect);
console.log(`Computer Selected`,computerSelect);
let winner = checkWinner(playerSelect, computerSelect);
console.log(winner);
winners.push(winner);
console.log('-----------');
}

function Game(){
    for(let i = 1; i<=5; i++){
        playRound(i);
    }

    winners_display();
    console.log(aggregate_Winner());
}

function checkWinner(Uwin, Cwin){
if(Uwin === Cwin){
    return "Tie";
}
else if((Uwin === "rock" && Cwin === "scissor") || (Uwin === "paper" && Cwin ==="rock") || (Uwin === "scissor" && Cwin === "paper")){
    return "You Win";
}  

 else {
     return "Computer Win";
 }
}


function winners_display(){
let userwin = winners.filter((item) => item == "You Win").length;
let computerwin  = winners.filter((item) => item == "Computer Win").length;
let ties = winners.filter((item) => item == "Tie").length;
console.log(`Total User Win`, userwin );
console.log(`ToTal Computer Win`, computerwin);
console.log(`Total Ties`, ties);
console.log('-----------------');
}


function winlog(){
  console.log(winners);
}

function aggregate_Winner(){
  if(winners.filter((item) => item == "You Win").length >= 3){
    return `Congratulation, You Win The Match`;
  }
  else{
    return 'Computer Win The Match';
  }
}
Game();









</script>
</body>
</html>